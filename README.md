# カードで学習塾 Webゲーム

学習塾の室長となり、春期シーズン（全8ターン）を通じて教室運営を行うカードゲームです。

## 🎮 ゲームの特徴

- **スマートフォン縦画面対応**: モバイルファーストで設計されたUI
- **直感的な操作**: ドラッグ＆ドロップ、またはタップ順配置の両方に対応
- **色覚多様性配慮**: カテゴリ別カラー + アイコンで視認性を確保
- **詳細ログ**: 全アクションが記録され、不具合の追跡が容易
- **スコア共有**: ハイスコアを記録し、URLで友人とスコアを比較可能

## 🚀 デプロイ方法

### 必要なもの

- Webサーバ（Apache、Nginx、GitHub Pages等）
- または、ローカルで実行する場合は任意のHTTPサーバ

### デプロイ手順

1. **ファイル一式をアップロード**
   
   `game/` フォルダ内の全ファイルをWebサーバのルートディレクトリ（または任意のパス）にアップロードします。
   
   ```
   game/
   ├── index.html
   ├── css/
   │   └── style.css
   ├── js/
   │   ├── main.js
   │   ├── gameState.js
   │   ├── cardManager.js
   │   ├── turnManager.js
   │   ├── scoreManager.js
   │   ├── uiController.js
   │   └── logger.js
   └── data/
       └── cards.csv
   ```

2. **ブラウザでアクセス**
   
   アップロード先のURLにアクセスします。
   
   例: `https://your-domain.com/game/index.html`

### ローカルで実行

**方法1: Pythonのシンプルサーバ**

```bash
cd game
python3 -m http.server 8000
```

ブラウザで `http://localhost:8000` を開きます。

**方法2: Node.jsのhttp-server**

```bash
cd game
npx http-server -p 8000
```

ブラウザで `http://localhost:8000` を開きます。

## 📱 操作方法

### ゲームの流れ

1. **研修フェーズ**: カードを習得
2. **教室行動フェーズ**: カードを3枚選び、スタッフ（室長・講師・事務）に配置
3. **教室会議フェーズ**: 不要なカードを削除
4. 8ターン後、スコアを計算

### カード配置方法

- **ドラッグ＆ドロップ**: 手札のカードをスタッフ枠にドラッグ
- **タップ操作**: カードをタップすると自動的に空き枠（室長→講師→事務）に配置

### カテゴリ別カラー

- 📢 **動員**: 青色 - 体験数を増やす
- 📚 **教務**: 緑色 - 入塾数を増やす
- 📋 **庶務**: 桃色 - 経理を改善
- 💬 **応対**: オレンジ色 - 満足度を向上

## 🎯 勝利条件

以下3つの目標で獲得した「目標ポイント」の合計で勝敗を決定:

1. **退塾目標**: 退塾数を2以下に抑える（+1）、4以上で-3
2. **動員目標**: 体験数を10以上にする（+1）、12以上で+2
3. **入退目標**: 入塾数 - 退塾数を8以上にする（+3）、10以上で+4、12以上で+5

### ランクシステム

| ポイント | ランク | 称号 |
| :---- | :---- | :---- |
| 0以下 | E | 達成ならず |
| 1-3 | D | 達成あと一歩 |
| 4 | C | ギリギリ達成 |
| 5-6 | B | 好調教室の仲間入り |
| 7 | A | 優秀教室ノミネート |
| 8 | S | 最優秀教室！ |
| 特別条件 | S+ | 全社最優秀教室!!! |

※S+条件: 退塾0 かつ 動員15以上 かつ 入塾15以上

## 📋 特殊ルール

### 削除枚数0のターン
削除できるカード枚数が0枚の場合（8ターン目）、教室会議フェーズは省略されます。

### カード職種条件
- 【室長】【講師】【事務】: 該当職種のスロットにのみ配置可能。不一致の場合は配置がキャンセルされます。
- 〈条件〉: 条件を満たさない場合、一部効果が発動しない可能性があります（警告表示）。

### おすすめ行動表示
- 教室行動画面で、おすすめ行動カテゴリに合致するカードには🎯マークが表示されます。
- ヘッダーにもおすすめカテゴリがアイコン付きで表示されます。

## 🛠️ 技術スタック

- **HTML5**: セマンティックなマークアップ
- **CSS3**: レスポンシブデザイン、カスタムプロパティ
- **JavaScript (ES6+)**: モジュール構成、非同期処理
- **LocalStorage**: ハイスコア保存

## 📄 ファイル構成

- `index.html`: メインHTML
- `css/style.css`: スタイルシート
- `js/main.js`: エントリーポイント
- `js/gameState.js`: ゲーム状態管理
- `js/cardManager.js`: カード管理・効果処理
- `js/turnManager.js`: ターン進行管理
- `js/uiController.js`: UI制御
- `js/scoreManager.js`: スコア計算・保存・共有
- `js/logger.js`: ログ出力
- `data/cards.csv`: カードデータ

## 🐛 トラブルシューティング

### カードデータが読み込めない

- CSVファイル（`data/cards.csv`）が正しい位置にあるか確認
- ブラウザのコンソールでエラーメッセージを確認

### ドラッグ＆ドロップが動作しない

- タップ操作を使用してください（モバイルデバイスでは推奨）

### スコアが保存されない

- ブラウザのLocalStorageが有効になっているか確認
- プライベートブラウジングモードでは保存されません

## 📝 ライセンス

このプロジェクトは教育目的で作成されています。

## 🙏 クレジット

ゲームデザイン: カードで学習塾 春期講習編ルールブック に基づく
